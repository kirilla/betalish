@page "/show-batches"
@model ShowBatchesModel
@{
}

@section Meta {
    <title>
        Batcher -
        @(Branding.WebsiteTitle)
    </title>
}

@section Header {
    <partial name="_Navbar" model="Model.UserToken" />
}

@await Html.PartialAsync("/Pages/Clients/_Shared/_Invoice.cshtml", Model.UserToken)

<main>

    <h4>
        Batcher
    </h4>

    @if (!Model.Batches.Any())
    {
        <div class="notice">
            Det finns inga batcher.
        </div>
    }

    @if (Model.Batches.Any())
    {
        <figure style="width:100%">
            <table style="width:inherit">
                <tr>
                    <th>Sammanfattning</th>
                    <th>Utkast</th>
                    <th>Fakturor</th>
                </tr>
                @foreach (var batch in Model.Batches)
                {
                    <tr>
                        <td>
                            <a href="/show-batch/@(batch.Id)">
                                @(batch.Name ?? "-")
                            </a>
                        </td>
                        <td>
                            @(batch.InvoiceDraftCount.ToSwedish())
                        </td>
                        <td>
                            @(batch.InvoiceCount.ToSwedish())
                        </td>
                    </tr>
                }
            </table>
        </figure>
    }

    <p>
        <a class="button" href="/add-batch">Ny batch</a>
    </p>

</main>
