@page "/show-invoice-ranges"
@model ShowInvoiceRangesModel
@{
}

@section Meta {
    <title>
        Fakturanummer -
        @(Branding.WebsiteTitle)
    </title>
}

@section Header {
    <partial name="_Navbar" model="Model.UserToken" />
}

@* @section Style {
    <style>
        body {
            grid-template-columns: 1fr min(70rem, 90%) 1fr;
        }
    </style>
} *@

<main>

    <h4>
        Fakturanummer
    </h4>

    <figure>
        <table>
            <tr>
                <th>Serie</th>
                <th>Antal</th>
                <th>Från</th>
                <th>Till</th>
                <th>Anteckning</th>
                <th></th>
            </tr>
            @foreach (var range in Model.InvoiceRanges)
            {
                <tr>
                    <td>
                        <a href="/edit-invoice-range/@(range.Id)" class="nolink">
                            @(range.StartNumber)-@(range.EndNumber)
                        </a>
                    </td>
                    <td>
                        @(range.Numbers)
                    </td>
                    <td>
                        <a href="/edit-invoice-range/@(range.Id)" class="nolink">
                            @(range.StartDate?.ToIso8601() ?? "*")
                        </a>
                    </td>
                    <td>
                        <a href="/edit-invoice-range/@(range.Id)" class="nolink">
                            @(range.EndDate?.ToIso8601() ?? "*")
                        </a>
                    </td>
                    <td>
                        <a href="/edit-invoice-range/@(range.Id)" class="nolink">
                            @(range.Comment ?? "-")
                        </a>
                    </td>
                    <td>
                        <a href="/show-invoice-range/@(range.Id)" class="nolink">
                            ℹ️
                        </a>
                        <a href="/edit-invoice-range/@(range.Id)" class="nolink">
                            ✏️
                        </a>
                        <a href="/remove-invoice-range/@(range.Id)" class="nolink">
                            ❌
                        </a>
                    </td>
                </tr>
            }
            @if (!Model.InvoiceRanges.Any())
            {
                <tr>
                    <td colspan="8">
                        Inga
                    </td>
                </tr>
            }
        </table>
    </figure>

    <p>
        <a class="button" href="/add-invoice-range">
            Lägg till
        </a>
    </p>

</main>
