@page "/show-invoices"
@model ShowInvoicesModel
@{
}

@section Meta {
    <title>
        Fakturor -
        @(Branding.WebsiteTitle)
    </title>
}

@section Header {
    <partial name="_Navbar" model="Model.UserToken" />
}

@* @section Style {
    <style>
        body {
            grid-template-columns: 1fr min(70rem, 90%) 1fr;
        }
    </style>
} *@

<main>

    <h4>
        Fakturor
    </h4>

    @if (!Model.Invoices.Any())
    {
        <div class="notice">
            Det finns inga fakturor.
        </div>
    }

    @if (Model.Invoices.Any())
    {
        <figure>
            <table>
                <tr>
                    <th>Nummer</th>
                    <th>Mottagare</th>
                    <th>Fakturadatum</th>
                    <th>Sammanfattning</th>
                </tr>
                @foreach (var invoice in Model.Invoices)
                {
                    <tr>
                        <td>
                            <a href="/show-invoice/@(invoice.Id)">
                                @(invoice.InvoiceNumber?.ToSwedish() ?? "-")
                            </a>
                        </td>
                        <td>
                            <a href="/show-invoice/@(invoice.Id)">
                                @(invoice.Customer_Name ?? "-")
                            </a>
                        </td>
                        <td>
                            <a href="/show-invoice/@(invoice.Id)">
                                @(invoice.InvoiceDate.ToIso8601())
                            </a>
                        </td>
                        <td>
                            <a href="/show-invoice/@(invoice.Id)">
                                @(invoice.About)
                            </a>
                        </td>
                    </tr>
                }
            </table>
        </figure>
    }

</main>
