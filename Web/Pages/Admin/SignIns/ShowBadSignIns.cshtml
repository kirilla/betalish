@page "/show-bad-signins"
@model ShowBadSignInsModel
@{
}

@section Meta {
    <title>
        Misslyckade inloggningar -
        @(Branding.WebsiteTitle)
    </title>
}

@section Header {
    <partial name="_NavbarAdmin" model="Model.UserToken" />
}

<main>

    <h4>
        Misslyckade inloggningar
    </h4>

    <figure>
        <table>
            <tr>
                <th>När</th>
                <th>IP-adress</th>
                <th>Namn</th>
                <th></th>
                <th>Lösenord</th>
                <th></th>
                <th>Fel</th>
            </tr>
            @foreach (var visit in Model.BadSignIns)
            {
                <tr>
                    <td>
                        @(visit.Created.ToFixedFormatDateShortTime())
                    </td>
                    <td>
                        @(visit.IpAddress)
                    </td>
                    <td>
                        @(visit.Name)
                    </td>
                    <td>
                        [@(visit.NameLength)]
                    </td>
                    <td>
                        @(visit.Password)
                    </td>
                    <td>
                        [@(visit.PasswordLength)]
                    </td>
                    <td>
                        @if (visit.BadUsername)
                        {
                            <span>Fel användarnamn.</span>
                        }
                        @if (visit.BadPassword)
                        {
                            <span>Fel lösenord.</span>
                        }
                        @if (visit.OtherException)
                        {
                            <span>Annat undantagsfel.</span>
                        }
                    </td>
                </tr>
            }
        </table>
    </figure>

</main>
